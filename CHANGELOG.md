# 更新日誌

## 版本 0.7.0 (2025/12/18)

### 🎯 重構與改進

#### 📤 分享功能統一化
- **程式碼簡化**：移除重複的分享函數

#### 🔐 密碼保護功能
- **AppSettingsPanel**：新增密碼保護開關按鈕
- **動態配置**：密碼保護設定可在運行時切換

#### 🎨 進階設定元件化
- **AdvancedSettings 元件**：固定配對設定 UI
- **PasswordModal 元件**：統一的密碼輸入模態框
- **online.vue 整合**：進階設定功能與密碼驗證

### 📦 技術更新

- **版本號**：0.6.1 → 0.7.0

---

## 版本 0.6.0 (2025/12/17)

### 🎨 全新視覺體驗

#### 🎊 慶祝結果畫面
- 卡片式設計，紫色漸變背景
- 慶祝動畫效果（橫幅、彩帶、淡入、脈衝）
- 響應式設計

#### 🔐 權限分級設定面板
- 基本資訊：所有人可見
- 進階設定：僅主持人可見（Seed、人數上限等）

#### 🌏 多語言支援（zh-HK/en）
- 語言切換器（左上角）
- @nuxtjs/i18n 整合
- Cookie 偏好儲存與瀏覽器自動偵測

### 🔧 功能改進

#### 🔄 WebSocket 重連優化
- **自動重連增強**：
  - 連線建立後自動檢查重連資訊
  - 5秒超時檢測機制
  - 詳細的控制台日誌記錄
- **手動重連功能**：
  - 用戶可主動觸發重連
- **Token 管理**：
  - 自動檢查 Token 過期（2小時）
  - 過期自動清除本地資訊
  - 重連失敗後清除舊 Token
- **錯誤處理**：
  - 重連失敗事件通知
  - 房間解散自動清理
  - 詳細的失敗原因提示

### 📦 技術更新

- **版本號**：0.5.0 → 0.6.0
- **新增依賴**：@nuxtjs/i18n（多語言支援）
- **CSS 改進**：
  - 使用 CSS Grid 和 Flexbox 響應式布局
  - CSS 動畫關鍵幀定義
- **狀態管理**：
  - 完善 localStorage 重連資訊管理
  - 優化 useDeviceId 整合
  - 改進 WebSocket 事件監聽

---

## 版本 0.4.0 (2025/12/17)

### 新增功能

- 🔄 裝置重連系統（2小時有效期）
- 🔒 遊戲開始後禁止加入
- 🆔 遊戲唯一識別碼（GAME-YYYYMMDD-RANDOM）
- 📱 社群媒體分享（8 大平台）
- ⚡ 輸入框自動聚焦
- 🔧 連線穩定性改進
- 改進房間加入邏輯和錯誤處理

### 🐛 問題修復
- 修復加入房間時事件監聽器衝突導致無法進入
- 修復建立房間按鈕重複點擊問題
- 修復遊戲開始後加入導致結果錯誤
- 改進超時處理機制

---

## 版本 0.3.1 (2025/12/17)

### 🎯 優化改進

#### 📤 分享功能大升級
- **圖片分享更聰明**：會自動節錄你的結果附近的內容，高亮顯示你抽到了什麼
- **文字版更方便**：點擊文字版分享會直接複製到剪貼簿

#### ⚡ 使用體驗優化
- **防止手滑**：建立房間、加入房間按鈕加上防重複點擊保護
- **進階選項更簡單**：連線模式下，主持人開啟進階選項不再需要密碼（主持模式還是要密碼喔）

#### 🔧 技術改進
- 修正了一些小問題
- 優化了程式碼結構

---

## 版本 0.3.0 (2025/12/17)

### 🎉 重要更新

#### 🔌 主機掉線也不怕了！
還在擔心連線模式時主機突然斷線，遊戲就玩不下去嗎？這個版本解決了這個問題！

- **房間不會消失**：主機掉線時，房間會繼續保留，大家還是可以繼續玩
- **自動找新主機**：系統會自動把主機權限交給下一個人，遊戲繼續進行
- **貼心提醒**：有人掉線時會通知大家，讓所有人都知道現在誰是主機

這樣就算主機網路不穩定，也不用擔心要重新開房間了！👍

#### 📤 超方便的分享功能
完成抽獎後想炫耀結果嗎？現在有三種超棒的分享方式：

**📝 文字版分享**
- 快速複製結果文字

**🖼️ 圖片版分享**
- 可以直接分享到社群媒體

**💾 下載圖片**
- 把結果圖片存到手機或電腦
- 方便日後查看或分享

**快速分享到社群平台**
點一下就能分享到：
- Facebook 臉書
- X (Twitter) 推特
- Threads
- LINE
- Telegram
- WhatsApp
- 複製連結

無論是主持模式還是連線模式，都可以使用這些分享功能喔！

---

## 版本 0.2.0 (之前)

### 已有功能
- ✨ 抽獎完成後的慶祝動畫
- 👤 可以更改自己的名稱
- 📤 基本的分享結果功能
- 📝 查看歷史抽獎紀錄
- 🔐 社交帳號登入圖標
